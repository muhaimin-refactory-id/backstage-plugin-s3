{"version":3,"file":"S3OverviewCard.esm.js","sources":["../../../src/components/S3OverviewCard/S3OverviewCard.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { CardTab, TabbedCard } from '@backstage/core-components';\nimport {\n  BucketDetails,\n  FetchObjectResult,\n} from '@spreadshirt/backstage-plugin-s3-viewer-common';\nimport { S3BucketViewer } from '../S3BucketViewer';\nimport { S3ObjectViewer } from '../S3ObjectViewer';\n\ntype S3OverviewCardProps = {\n  bucketInfo: BucketDetails | undefined;\n  loadingBucketInfo: boolean;\n  errorBucketInfo: Error | undefined;\n  objectInfo: FetchObjectResult | undefined;\n  loadingObjectInfo: boolean;\n  errorObjectInfo: Error | undefined;\n};\n\nexport const S3OverviewCard = (props: S3OverviewCardProps) => {\n  const [selectedTab, setSelectedTab] = useState<string | number>('bucket');\n\n  useEffect(() => {\n    if (props.loadingObjectInfo || props.errorObjectInfo) {\n      setSelectedTab('object');\n    } else if (!props.objectInfo && !props.loadingObjectInfo) {\n      setSelectedTab('bucket');\n    }\n  }, [props]);\n\n  const handleChange = (_ev: any, newSelectedTab: string | number) =>\n    setSelectedTab(newSelectedTab);\n\n  return (\n    <TabbedCard value={selectedTab} onChange={handleChange}>\n      <CardTab value=\"bucket\" label=\"Bucket Details\" key=\"bucket-details\">\n        <S3BucketViewer {...props} />\n      </CardTab>\n      <CardTab\n        value=\"object\"\n        disabled={!props.objectInfo && !props.loadingObjectInfo}\n        label=\"Object Details\"\n        key=\"object-details\"\n      >\n        <S3ObjectViewer {...props} />\n      </CardTab>\n    </TabbedCard>\n  );\n};\n"],"names":[],"mappings":";;;;;;AAkBa,MAAA,cAAA,GAAiB,CAAC,KAA+B,KAAA;AAC5D,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAI,SAA0B,QAAQ,CAAA;AAExE,EAAA,SAAA,CAAU,MAAM;AACd,IAAI,IAAA,KAAA,CAAM,iBAAqB,IAAA,KAAA,CAAM,eAAiB,EAAA;AACpD,MAAA,cAAA,CAAe,QAAQ,CAAA;AAAA,eACd,CAAC,KAAA,CAAM,UAAc,IAAA,CAAC,MAAM,iBAAmB,EAAA;AACxD,MAAA,cAAA,CAAe,QAAQ,CAAA;AAAA;AACzB,GACF,EAAG,CAAC,KAAK,CAAC,CAAA;AAEV,EAAA,MAAM,YAAe,GAAA,CAAC,GAAU,EAAA,cAAA,KAC9B,eAAe,cAAc,CAAA;AAE/B,EAAA,uBACG,IAAA,CAAA,UAAA,EAAA,EAAW,KAAO,EAAA,WAAA,EAAa,UAAU,YACxC,EAAA,QAAA,EAAA;AAAA,oBAAC,GAAA,CAAA,OAAA,EAAA,EAAQ,KAAM,EAAA,QAAA,EAAS,KAAM,EAAA,gBAAA,EAC5B,8BAAC,cAAgB,EAAA,EAAA,GAAG,KAAO,EAAA,CAAA,EAAA,EADsB,gBAEnD,CAAA;AAAA,oBACA,GAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,KAAM,EAAA,QAAA;AAAA,QACN,QAAU,EAAA,CAAC,KAAM,CAAA,UAAA,IAAc,CAAC,KAAM,CAAA,iBAAA;AAAA,QACtC,KAAM,EAAA,gBAAA;AAAA,QAGN,QAAA,kBAAA,GAAA,CAAC,cAAgB,EAAA,EAAA,GAAG,KAAO,EAAA;AAAA,OAAA;AAAA,MAFvB;AAAA;AAGN,GACF,EAAA,CAAA;AAEJ;;;;"}